<div
  class="panel blog-theme"
  data-x="3"
  data-y="-8"
  data-type="blog"
  data-url-suffix="spacetraders"
>
  <div class="panel-content">
    <div class="title">spacetraders.</div>
    <div class="blog-date">2024-08-17</div>

    <div class="section">
      <div class="quote ac-quote">
        <div>
          And so we return again to the holy void. Some say this is simply our
          destiny, but I would have you remember always that the void EXISTS,
          just as surely as you or I. Is nothingness any less a miracle than
          substance?
        </div>
        <div class="attribution">
          -- Sister Miriam Godwinson
          <div>"We Must Dissent"</div>
        </div>
      </div>
    </div>

    <div class="section">
      <a href="https://spacetraders.io">Spacetraders</a> is a "space-themed
      economic game with HTTP endpoints for automating gameplay and building
      custom tools." It's had me hooked during the evenings the last couple
      weeks in a "just one more turn" sort of way.
    </div>

    <div class="section-header">UI</div>

    <div class="section">
      I kicked off with a minimal web frontend to explore the mechanics of the
      game. Specifically, I built three pages to get started:
    </div>

    <div class="section">
      A
      <div class="emphasis">market</div>
      UI where I could see all the waypoints with markets and what goods they
      were importing and exporting.
    </div>

    <div class="section">
      A
      <div class="emphasis">fleet</div>
      UI where I could see the status of my ships, have them mine an asteroid,
      refuel as needed, transfer cargo to other ships, or fly around the system.
    </div>

    <div class="section">
      An
      <div class="emphasis">rpc</div>
      builder UI where I could hit arbitrary endpoints to fill the gaps for
      things that I hadn't added in my other pages (buying ships, handling
      contracts, etc).
    </div>

    <div class="section-header">Automation</div>

    <div class="section">
      Once I got the hang of the intro mechanics to the game, I started building
      some basic automation. This was done with a nodejs server that tells the
      fleet what to do.
    </div>

    <div class="section">
      Each ship is given a persona that assigns it an event loop which contains
      a sequence of actions to repeat indefinitely. I currently have five
      personas in use:
    </div>

    <div class="section">
      The
      <div class="emphasis">Hauler</div>
      persona (for my freighters) which has them fly to an asteroid, load from
      other ships until their inventory is full, and sell their cargo at a
      nearby market.
    </div>

    <div class="section">
      The
      <div class="emphasis">Miner</div>
      persona (for my drones) which has them fly to an asteroid and mine
      whenever they have cargo space.
    </div>

    <div class="section">
      The
      <div class="emphasis">Pricer</div>
      persona (for my probes) which has them fly in a loop around the different
      markets and stores the prices of goods in a postgres db. This uses a na√Øve
      nearest neighbor algorithm for generating the route.
    </div>

    <div class="section">
      The
      <div class="emphasis">Trader</div>
      persona (for my frigate) which has it find the most profitable good in the
      system, pick it up at one waypoint and sell it at another.
    </div>

    <div class="section">
      The
      <div class="emphasis">NOOP</div>
      persona for ships I have stationed at a particular waypoint (e.g. so I can
      buy ships at its shipyard, etc).
    </div>

    <div class="section-header">Current Status</div>

    <div class="section">
      The game is an alpha, so the server resets every ~3 weeks. The last reset
      was on 2024-08-11 (I started playing a little before then) and my handle
      for this reset is
      <div class="emphasis">ZAKHAROV.</div>
    </div>

    <div class="section">
      At time of writing, I have ~1.5 million credits which puts me 14th on the
      leaderboard for this reset (mind you there are very likely more players
      that have more credits than me if you include the cost of their ships (and
      1st is currently at ~500 million, so there is that)).
    </div>

    <div class="section">
      My fleet consists of 21 ships: 1 frigate, 4 probes, 1 shuttle, 3
      freighters, and 12 drones.
    </div>

    <div class="section-header">What's Next</div>

    <div class="section">
      There are several directions I could go from here. Some ideas in no
      particular order:
    </div>

    <div class="section">
      <ul>
        <li>
          Add ship information to my DB and build a live visualization of where
          all my ships are at any given time.
        </li>
        <li>
          Add a queueing server between my API calls and the game server, to
          avoid hitting the dreaded "You have reached your API limit" errors.
        </li>
        <li>
          Explore more mechanics of the game (visiting other system, market
          dynamics, etc).
        </li>
        <li>
          Port my codebase to another language. I built this out quickly using
          JS, but it could be fun to try out Rust or Elixir or something well
          suited to this sort of project.
        </li>
      </ul>
    </div>

    <div class="nav-section">
      <span class="link nav-link" data-x="0" data-y="0">Home</span>
      <span class="link nav-link" data-x="0" data-y="-1">Journal</span>
      <span class="link nav-link" data-x="3" data-y="-9">Prev</span>
      <span class="link nav-link" data-x="3" data-y="-7">Next</span>
    </div>
  </div>
</div>
